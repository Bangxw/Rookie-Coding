<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>Javascript 面向对象编程</title>
	</head>

	<body>
		<!--<p class="opener">first paragraph</p>
		<p><em>second</em> paragraph</p>
		<p id="closer">final</p>-->
		<!-- and that's about it -->

		<div class="dom-group" style="display: none;">
			<a href="https://www.baidu.com">百度</a>
			<a href="https://www.hao123.com/">hao123</a>
			<a href="http://www.sina.com.cn/">新浪</a>
			<a href="mailto:wbx_2018@qq.com">邮箱</a>
			<a name="#123"></a>
			<p>It is now
				<script>
					document.write("<em>" + new Date() + "</em>")
				</script>
			</p>
		</div>

		<div class="xhr-group">
			<div id="html-div"></div>
			<div id="xml-div"></div>
			<div id="txt-div"></div>
		</div>

		<div class="dom-operate-div"></div>

		<div class="container"></div>
		<canvas width="800" height="600" id="canvas"></canvas>
		<script type="text/javascript">
			(function() { //增加带颜色的Console.log方法
				console.constructor.prototype.color = function(ctx, color) {
					console.log('%c !----------' + (ctx || "This console.log!") + '----------!', "color:" + (color || "#f00"));
				}
			})();

			function ObjOriented() {

				this.fun_CountingSystem = function() { //进制计数
					var octal = 010;
					var decimal = 10;
					var hexadecimal = 0x10;
					console.log("010 --> " + octal);
					console.log("10 --> " + decimal);
					console.log("0x10 --> " + hexadecimal);
				}

				this.fun_IndexForm = function() { //指数形式	
					var indexNumber = 1e1;
					var indexNum = 2e+1;
					var indexNum1 = 100E-3;
					console.log("1e1 --> " + indexNumber);
					console.log("2e+1 --> " + indexNum);
					console.log("100E-3 --> " + indexNum1);

					console.log("1E+308 --> " + (1E+308));
					console.log("1E+309 == 1 / 0 --> " + (1E+309 == 1 / 0)); //Infinity == Infinity  type==> Number
					console.log("Infinity + Infinity --> " + (Infinity + Infinity));
					console.log("Infinity - Infinity --> " + (Infinity - Infinity));
					console.log("typeof NAN --> " + typeof NAN);
					console.log("typeof Infinity --> " + typeof Infinity);

					console.log("parseInt(1e1) --> " + (parseInt(1e1)));
					console.log("parseInt('1e1') --> " + (parseInt('1e1')));
					console.log("parseInt(' 1e1 ') --> " + (parseInt(' 1e1 '))); //1
					console.log("parseFloat(' 1e1 ') --> " + (parseFloat(' 1e1 '))); //10
					console.log("isFinite(0/10) --> " + (isFinite(0 / 10)));
					console.log("isFinite(20/0) --> " + (isFinite(20 / 0)));
					console.log("isFinite(parseInt(NaN)) --> " + (isFinite(parseInt(NaN))));
					console.log("isNaN(parseInt(NaN)) --> " + (isNaN(parseInt(NaN))));
				}

				this.fun_Multiplication = function() { //乘法表								
					var _html0 = "";
					var _container0 = document.getElementsByClassName("container")[0];
					for(var i = 1; i < 10; i++) {
						for(var j = 1; j <= i; j++) {
							_html0 += i + " * " + j + " = " + (i * j < 10 ? "0" + (i * j) : i * j) + "&nbsp;&nbsp;&nbsp;&nbsp;";
						}
						_html0 += "<br/>";
					}
					_container0.innerHTML = _html0;
				}

				this.fun_BasicData = function() { //基础数据操作
					var a;
					console.log(typeof a); //undefined

					var s = "1s";
					s++
					console.log(s); //NAN

					console.log(!!'false'); //true
					console.log(!!undefined); //false
					console.log(typeof - Infinity); //Number
					console.log(10 % 0); //NAN
					console.log(undefined == null); //true
					console.log(false === ""); //false
				}

				this.fun_FunArguments = function() { //关于Arguments参数
					function args() {
						return arguments;
					}
					console.log(args(1, 1, 3, "test"));
				}

				this.fun_LoacalVariable = function() { //局部变量和全局变量
					var test = 11;
					(function() {
						test -= 2;
						console.log(test);
						var test = 10;
					}());
				}

				this.fun_SelfexecutFun = function() { //自执行函数 匿名函数
					//任何两个匿名函数在内存中都是独立的，即便它们的函数体完全相同也无济于事
					+ function(name) {
						alert("My name is " + name);
					}("wbx");

					-
					function(name) {
						alert("My name is " + name);
					}("wbx");

					! function(name) {
						alert("My name is " + name);
					}("wbx");

					void

					function(name) {
						alert("My name is " + name);
					}("wbx");

					(function(name) {
						alert("My name is " + name);
					}("wbx"));

					(function(name) {
						alert("My name is " + name);
					})("wbx");
				}

				this.fun_CalcsumFun = function() { //计算和
					function one() {
						return 1;
					}

					function two() {
						return 2;
					}

					function calcSum(a, b) {
						return a() + b();
					}

					console.log(calcSum(one, two));
					console.log(calcSum(function() {
						return 1
					}, function() {
						return 2
					}));
				}

				this.fun_ClosureTest = function() { //闭包
					var a = function(param) {
						var b = function(arg) {
							return arg * 2;
						}
						return 'the value is: ' + b(param);
					}
					console.log(a(2));
					console.log(a(8));
					console.log(b(2)); //b is not defined

					var c = function() {
						alert('a!');
						return function() {
							alert('b!');
						}
					}
					var d = c();
					d();

					var e = function() {
						alert("a!");
						e = function() {
							alert("b!");
						}
					}
					e();
					e();

					var f = function() {
						function someSetup() {
							var setUp = "done";
						}

						function actualWork() {
							alert("worky-worky");
						}
						someSetup();
						return actualWork();
					}();
				}

				this.fun_LocalPara = function() { //变量的作用域
					function fn1() {
						var a = 1;
						fn2();
					}

					function fn2() {
						return a;
					}

					try {
						console.log(fn1());
					} catch(e) {
						console.log(e);
					}

					function fn3() {
						var a = 1;
						return(function() {
							return a;
						})();
					}
					console.log(fn3());

					function fn4() {
						var b = 1;
						fn5();
					}

					function fn5() {
						return b;
					}

					try {
						fn4();
					} catch(e) {
						console.log(e);
					}

					var b = 5;
					console.log(fn4());
					delete b;
					console.log(fn4());
				}

				this.fun_ClosureDemo = function() { //闭包Demo
					function fn1() {
						var b = "b!";
						return function() {
							return b;
						}
					}
					var f = fn1();
					console.log(f());

					function fn2(arg) {
						var n = function() {
							return arg;
						}
						arg++;
						return n;
					}
					var m = fn2(123);
					var c = m();
					console.log(c);
				}

				this.fun_ClosureCycle = function() { //闭包循环
					var f0 = function() {
						var a = [];
						var i = 0;
						for(i = 0; i < 3; i++) {
							a[i] = function() {
								return i;
							}
						}
						return a;
					}
					var b0 = f0();
					console.log(b0[0]());
					console.log(b0[1]());
					console.log(b0[2]());

					var f1 = function() {
						var a = [];
						var i = 0;
						for(var i = 0; i < 3; i++) {
							a[i] = (function(i) {
								return function() {
									return i;
								}
							})(i);
						}
						return a;
					}
					var b1 = f1();
					console.log(b1[0]());
					console.log(b1[1]());
					console.log(b1[2]());
				}

				this.fun_GetterSetter = function() { //Getter & Setter 闭包保护私有变量
					var getVal, setVal;
					(function() {
						var secret = 0;
						getVal = function() {
							return secret;
						}
						setVal = function(_v) {
							secret = _v;
						}
					})();

					console.log(getVal());
					setVal("0622");
					console.log(getVal());
				}

				this.fun_IteratorFun = function() { //迭代器
					function setUp(arr) {
						var i = 0;
						return function() {
							return arr[i++];
						}
					}

					var next = setUp(["a", "b", "c"]);
					console.log(next());
					console.log(next());
					console.log(next());
				}

				this.fun_ConversionColor = function() { //将16进制色值转化为RGB模式
					function getColorRGB(_val) {
						var _res = "";
						_val = _val.substr(1);
						if(_val.length != 3 && _val.length != 6) return "Parameter Error!";
						if(_val.length == 3) _val = _val.replace(/(.{1})/ig, "$1$1")

						for(var i = 0; i < 3; i++) {
							_res += parseInt("0x" + _val.substring(i * 2, (i + 1) * 2), 16) + ",";
						}
						return "rgb(" + _res.substring(0, _res.length - 1) + ")";
					}

					console.log(getColorRGB("#3ba752"));
				}

				this.fun_ConstructorGlobalFun = function() { //构造函数  全局对象		
					function Hero(name) {
						this.name = name; //未用new操作符实例化，this实际指向window,也就是此时的name是全局属性
					}
					var h0 = Hero("WBX");
					console.log(h0);
					console.log(window.name);

					var h1 = new Hero();
					var h2 = new Hero("test0");
					var h3 = new Object();
					console.log(h1.constructor);
					console.log(h2.constructor);
					console.log("h1.name = " + h1.name);
					console.log("h2.name = " + h2.name);

					h2.constructor("test1");
					console.log("h1.name = " + h1.name);
					console.log("h2.name = " + h2.name);

					h2.name = "test2";
					console.log("h1.name = " + h1.name);
					console.log("h2.name = " + h2.name);

					//instaceof 判断对象是不是属于一个构造函数
					console.log("h0 instanceof Hero: " + (h0 instanceof Hero));
					console.log("h2 instanceof Hero: " + (h2 instanceof Hero));

					function CC() { //返回的是一个对象时，注意this的指向
						this.a = 1;
						return {
							b: "b's value."
						}
					}
					var cc = new CC();
					console.log(cc.a);
					console.log(cc.b);
				}

				this.fun_ObjCompare = function() { //当且仅当引用指向同一对象时返回true			
					var obj0 = {
						breed: "dog"
					};
					var obj1 = {
						breed: "dog"
					};
					console.log("obj0 === obj1 -->" + (obj0 === obj1)); //false
					console.log("obj0 == obj1 -->" + (obj0 == obj1)); //false

					var obj2 = {
						breed: "cat"
					};
					obj22 = obj2;
					console.log("obj22 === obj2 -->" + (obj22 === obj2)); //true
				}

				this.fun_ArrOperate = function() { //常用方法有: push()  pop()  unshift()  shift() sort() join() slice() splice() contact()
					var arr0 = [0, 55, 2, "aa", "ji", 12, "cc", 89];
					var arr1 = [0, 55, 2, "aa", "ji", 12, "cc", 89];
					arr1.length = 20;
					console.log(arr0.push("new-element0"));
					console.log(arr0.pop());
					console.log(arr0.unshift("new-element1"));
					console.log(arr0.shift());
					console.log(arr0.sort());
					console.log(arr1.join(" is not "));
					console.log(arr0.slice(4, 7));
					console.log(arr0.splice(1, 3, "splice0", "splice1", "splice2"));
					console.log(arr0.concat(arr1));
					console.log(arr0);
					console.log(arr1);

					var c = [1, 4, [2, 9], 8];
					c.sort();
					c.join("--");
					console.log(c.join("--"));
				}

				this.fun_ObjMath = function() { //Math对象的操作
					//  >>>Math.PI
					console.log(Math.PI);
					//  >>>4的平方根
					console.log(Math.SQRT2);
					console.log(Math.pow(4, 1 / 2));
					console.log(Math.sqrt(4, 2));
					//  >>>欧拉常数 自然对数e
					console.log(Math.E);
					//  >>>2的自然对数
					console.log(Math.LN2);
					//  >>>随机数
					console.log(Math.random());
					//  >>>获取2-10之间的随机数 
					console.log(Math.random() * 8 + 2);
					//  >>>获取正常月份
					console.log(Math.min(Math.max(1, parseInt(prompt("请输入月份"))), 12));
				}

				this.fun_ObjDate = function() { //Date对象的操作
					var date = new Date();
					console.log(date);
					console.log(new Date("2017-06-07"));
					console.log(new Date(2008, 0, 1, 17, 05, 03, 120));
					console.log(new Date(2008, 1, 31)); //自动溢出  往前推
					console.log(new Date(360000)); //从1979.1.1 08:00:00 开始

					Date.prototype.format = function(formatstr) {
						var _str = formatstr;
						var _week = ["Sunday", "Monday", "Tuesday", "Wednesday", "Friday", "Saturday"];
						var _month = this.getMonth() + 1;
						_str = _str.replace(/yyyy/i, this.getFullYear());
						_str = _str.replace(/yy/i, this.getFullYear().toString().substr(2));
						_str = _str.replace(/MM/, (_month > 9) ? _month.toString() : ("0" + _month));
						_str = _str.replace(/M/, _month.toString());
						_str = _str.replace(/dd/i, (this.getDate() > 9) ? (this.getDate().toString()) : ("0" + this.getDate()));
						_str = _str.replace(/d/i, this.getDate().toString());
						_str = _str.replace(/hh/i, (this.getHours() > 9) ? (this.getHours().toString()) : ("0" + this.getHours()));
						_str = _str.replace(/h/i, this.getHours().toString());
						_str = _str.replace(/mm/, (this.getMinutes() > 9) ? (this.getMinutes().toString()) : ("0" + this.getMinutes()));
						_str = _str.replace(/m/i, this.getMinutes().toString());
						_str = _str.replace(/ss/i, (this.getSeconds() > 9) ? (this.getSeconds().toString()) : ("0" + this.getSeconds()));
						_str = _str.replace(/s/i, this.getSeconds().toString());
						_str = _str.replace(/w/i, _week[this.getDay()]);
						return _str;
					}

					var d = new Date();
					console.log(d.format("W DD/MM/YYYY hh:mm:ss"));

					//2018生日是星期几
					console.log(new Date(2017, 3.26).getDay());

					//2017-3017 有多少个3.26是星期天
					(function() {
						var state = [0, 0, 0, 0, 0, 0, 0];
						for(var i = 2017; i < 3017; i++) {
							state[new Date(i, 3, 26).getDay()]++;
						}
						console.log(state);
					})()
				}

				this.fun_Regexp = function() { //RegExp对象的操作
					console.log(/j.*t/.test("Javascript"));
					console.log(/j.*t/i.exec("Javascript")[0]);

					var str = "Hello world, hello javascript!";
					console.log(str.match(/hello/gi));
					console.log(str.search(/hello/));
					console.log(str.replace(/java/g, "Java"));
					console.log(str.replace(/\b[a-zA-Z0-9]{1}/g, "_$&"));
					console.log(str.replace(/(\b[a-zA-Z0-9]{1})/g, "_$1"));

					var email = "WBX_2018@outlook.com";
					console.log(email.replace(/(.*)@.*/, "$1"));

					var arrstr = "one, two, three, four, five";
					console.log(arrstr.split(/,\b/i));
				}

				this.fun_ObjError = function() { //异常处理
					try {
						throw new Error("故意的！");
						dosomething();
					} catch(e) {
						console.info(e.name + ": " + e.message);
					}
				}

				this.fun_ThisPointer = function() { //关于This的指向
					function E() {
						function I() {
							console.log(this);
							return this;
						}
						return I();
					}
					var e = new E();

					function E1() {
						this.I1 = function() {
							console.log(this);
							return this;
						}
					}

					var e1 = new E1();
					e1.I1();

					function C() {
						this.a = 1;
						return false;
					}
					console.log(typeof new C());
				}

				this.fun_ContructorString = function() { //自定义String的函数
					function MyString(_para) {
						var _length = 0;
						for(var k in _para) {
							_length++;
							this[k] = _para[k];
						}

						this.length = _length;
					}

					MyString.prototype.toString = function() {
						var _str = "";
						for(var i = 0; i < this.length; i++) {
							_str += this[i];
						}
						return _str;
					}

					MyString.prototype.valueOf = function() {
						return this.toString();
					}

					MyString.prototype.charAt = function(index) {
						return isNaN(index) ? this[0] : this[index];
					}

					MyString.prototype.concat = function(str) {
						return this.toString() + str;
					}

					MyString.prototype.slice = function(start, end) {
						if(start < 0 || start > this.length) start = this.length;
						if(end > this.length) end = this.length;
						if(end < 0) end = this.length + end;
						var _str = "";
						for(var i = start; i < end; i++) {
							_str += this[i];
						}
						return _str;
					}

					MyString.prototype.split = function(_char) {
						var _str = "",
							_arr = [];
						for(var i = 0; i <= this.length; i++) {
							if(this[i] == _char || i == this.length) {
								_arr.push(_str);
								_str = "";
							} else {
								_str += this[i];
							}
						}
						return _arr;
					}

					MyString.prototype.reverse = function() {
						var _str = "";
						for(var i = this.length; i > 0; i--) {
							_str += this[i - 1];
						}
						return _str;
					}

					var str = new MyString("hello");
					console.log(str.length);
					console.log(str[0]);
					console.log(str.toString());
					console.log(str.valueOf());
					console.log(str.charAt(1));
					console.log(str.charAt('2'));
					console.log(str.charAt('e'));
					console.log(str.concat(' world!'));
					console.log(str.slice(1, 3));
					console.log(str.slice(0, -1));
					console.log(str.split("e"));
					console.log(str.split("l"));
					console.log(str.reverse());
				}

				this.fun_ContructorArray = function() { //自定义Array的函数
					function MyArray() {
						for(var i = 0; i < arguments.length; i++) {
							this[i] = arguments[i];
						}
						this.length = arguments.length;
					}

					MyArray.prototype.toString = function() {
						var _str = "";
						for(var i = 0; i < this.length; i++) {
							_str += i == this.length - 1 ? this[i] : this[i] + ',';
						}
						return _str;
					}

					MyArray.prototype.push = function(element) {
						this[this.length] = element;
						this.length = this.length + 1;
						return this.length
					}

					MyArray.prototype.pop = function() {
						var _popEle = this[this.length - 1];
						this[this.length - 1] = null;
						this.length = this.length - 1;
						return _popEle;
					}

					MyArray.prototype.join = function(element) {
						var _str = "";
						for(var i = 0; i < this.length; i++) {
							_str += i == this.length - 1 ? this[i] : this[i] + element;
						}
						return _str;
					}

					var a = new MyArray(1, 2, 3, "test");
					console.log(a.length);
					console.log(a.toString());
					console.log(a.push("boo"));
					console.log(a.toString());
					console.log(a.pop());
					console.log(a.toString());
					console.log(a.length);
					console.log(a.join(","));
					console.log(a.join(" isn't "));
				}

				this.fun_ContructorMath = function() { //自定义Math的函数
					function MyMath() {}

					MyMath.prototype.rand = function(min, max, inclusive) {

					}

					MyMath.prototype.min = function(arr) {
						var flag = arr[0];
						for(var i = 0; i < arr.length; i++) {
							if(arr[i] < flag) flag = arr[i]
						}
						return flag;
					}

					MyMath.prototype.max = function(arr) {
						var flag = arr[0];
						for(var i = 0; i < arr.length; i++) {
							if(arr[i] > flag) flag = arr[i];
						}
						return flag;
					}

					var a = new MyMath();
					console.log(a.rand[10, 20, true]);
					console.log(a.max([1, 5, 2, 90, 0, -1, "test", "k", 67, "101"]));
					console.log(a.min([1, 5, 2, 90, 0, -1, "test", "k", 67, "101"]));
				}

				this.fun_PrototypeObject = function() { //原型操作
					function Gadget(name, color) {
						this.name = name;
						this.color = color;
						this.whatAreYou = function() {
							return 'I am a ' + this.color + ' ' + this.name;
						}
					}

					/*Gadget.prototype.price = 100;
					Gadget.prototype.rating = 3;
					Gadget.prototype.getInfo = function(){
						return "Rating: " + this.rating + ', price: ' + this.price;
					}*/

					Gadget.prototype = {
						price: 100,
						rating: 3,
						getInfo: function() {
							return "Rating: " + this.rating + ', price: ' + this.price;
						}
					}

					var newtoy = new Gadget("webcam", "black");
					console.log(newtoy);
					console.log(newtoy.name);
					console.log(newtoy.whatAreYou());
					console.log(newtoy.price);
					console.log(newtoy.rating);
					console.log(newtoy.getInfo());

					Gadget.prototype.get = function(what) {
						return this[what];
					}
					console.log(newtoy.get('price'));
					console.log(newtoy.get('color'));

					//每个对象都有属于自己的构造器属性
					//原型本身也是对象
					//原型也会有构造器，而构造器又会有自己的原型
					console.log(newtoy.constructor.prototype.constructor);
					console.log(newtoy.constructor.prototype.constructor.prototype);

					//自身属性优先级高于原型属性
					Gadget.prototype.name = 'foo';
					var toy = new Gadget("camera");
					console.log(toy.name);

					delete toy.name;
					console.log(toy.name);

					toy.name = "new camera";
					console.log(toy.name);

					console.color("--------------显示newtoy对象的所有属性----------------", "#f00");

					for(var k in newtoy) {
						console.log(k + " = " + newtoy[k]);
					}

					console.color("--------------显示newtoy对象的自身属性----------------", "#00f");
					for(var k in newtoy) {
						if(newtoy.hasOwnProperty(k))
							console.log(k + " = " + newtoy[k]);
					}

					console.color("--------------利用propertyIsEnumerable检测对象是否可以枚举----------------", "#f0f");
					console.log("constructor --> " + newtoy.propertyIsEnumerable('constructor'));
					console.log("name --> " + newtoy.propertyIsEnumerable('name'));
					console.log("price --> " + newtoy.__proto__.propertyIsEnumerable('price'));

				}

				this.fun_EnumAttributes = function() { //枚举属性
					var a = [1, 2, 3];
					for(var k in a) {
						console.log(a[k]);
					}

					var o = {
						p1: 1,
						p2: 2
					};

					o.prototype = {
						pt: "pt"
					}

					for(var k in o) {
						console.log(k + " = " + o[k]);
					}

					console.log(o.propertyIsEnumerable("p1"));
					console.log(o.hasOwnProperty("p1"));
					console.log(o.propertyIsEnumerable("pt"));
					console.log(o.hasOwnProperty("pt"));

					var monkey = {
						hair: true,
						feeds: 'bananas',
						breathes: 'air'
					}

					function Human(name) {
						this.name = name;
					}
					Human.prototype = monkey;

					var george = new Human();
					console.log(monkey.isPrototypeOf(george));
				}

				this.fun__Proto__ = function() { //关于__proto__
					var monkey = {
						feeds: 'bananas',
						breathes: 'air'
					}

					function Human() {}
					Human.prototype = monkey;

					var developer = new Human();
					developer.feeds = 'Pizza';
					developer.hacks = 'JavaScript';

					monkey.test = 1;
					console.log(developer.test);
				}

				this.fun_ExtendePrototype = function() { //通过原型对象扩展属性和方法
					Array.prototype.inArray = function(needle) {
						return new RegExp(needle).test(this.join(''));
						/*for(var i = 0; i < this.length; i++) {
							if(this[i] == needle) return true;
						}
						return false;*/
					}

					console.log([1, 2, 3].inArray(3));
					console.log([1, 2, 3].inArray(5));

					String.prototype.reverse = function() {
						return Array.prototype.reverse.apply(this.split("")).join('');
					}

					console.log("abcdefg".reverse());
				}

				this.fun_Call_Apply_Bind = function() { //js中关于call、apply、bind的一些事
					//改变函数执行时的上下文   --->   改变函数运行时的this指向

					function Person(name) {
						this.name = name;
					}

					Person.prototype = {
						constructor: Person,
						showName: function() {
							console.log(this.name);
						}
					}

					var person = new Person('QianLong');
					person.showName();

					var animal = {
						name: "cat"
					};

					//call、apply改变了函数的this上下文后便执行该函数
					//bind返回改变了上下文后的一个函数
					Person.prototype.showName.call(animal);
					person.showName.apply(animal);
					person.showName.call(animal);
					person.showName.bind(animal)();

					var arr = [34, 5, 3, 6, 54, 6, -67, 5, 7, 6, -8, 687];
					console.log(Math.max.apply(Math, arr));
					console.log(Math.min.call(Math, 34, 5, 3, 6, 54, 6, -67, 5, 7, 6, -8, 687));

					console.color("将普通的对象字面量变成一个数组,注意数组结构必须是数字为下标而且一定要有length属性", "#f0f");
					var arraylike = {
						0: "qilong",
						1: 'ziqi',
						2: 'qiandun',
						length: 3
					}
					console.log(Array.prototype.slice.apply(arraylike));

					console.color("数组追加元素", "#f0f");
					var arr0 = [1, 2, 3];
					var arr1 = [4, 5, 6];
					[].concat.apply(arr0, arr1);
					console.log(arr0);
					console.log(arr1);
					console.log([].concat.apply(arr0, arr1));

					var arr00 = [10, 20, 30];
					var arr10 = [40, 50, 60];
					arr00.concat(arr10);
					console.log(arr00);
					console.log(arr10);
					console.log(arr00.concat(arr10));

					console.color("判断变量类型", "#f0f");

					function isArray(obj) {
						return Object.prototype.toString.call(obj) === "[object Array]";
					}

					console.log(isArray([]));

					console.color("利用call和apply做继承", "#f0f");

					var PersonClass = function(name, age, sex) {
						this.name = name;
						this.age = age;
						this.sex = sex;
					}

					var GirlClass = function(beautiful) {
						this.beautiful = beautiful;
						PersonClass.apply(this);
					}

					var BoyClass = function(sports) {
						this.sports = sports;
						PersonClass.call(this);
					}

					var p0 = new PersonClass();
					var p1 = new GirlClass();
					var p2 = new BoyClass();

					PersonClass.prototype.sayHello = function() {
						"My name is: " + this.name;
					}

					console.log(p0);
					console.log(p1);
					console.log(p2);
				}

				this.fun_GetObjType = function() { //判断变量类型
					function test(obj) {
						if(typeof obj == "object") {
							if(obj == null) return null;
							var _str = obj.constructor.toString();
							return _str.substring(9, _str.indexOf("("));
						} else return typeof obj;
					}

					function rtest(obj) {
						if(typeof obj == "object") {
							if(obj instanceof Array) return "Array";
							else if(obj instanceof RegExp) return "RegExp";
							else if(obj instanceof Function) return "Function";
							else if(obj instanceof Number) return "Number";
							else if(obj instanceof String) return "String";
							else if(obj == null) return "null";
							else return "Object";
						} else return typeof obj;
					}

					function retest(obj) {
						return Object.prototype.toString.call(obj);
					}

					var a = "";
					var b = [];
					var c = {};
					var d = / /;
					var e = null;
					var f = undefined;
					var h = function() {}
					console.log(retest(a));
					console.log(retest(b));
					console.log(retest(c));
					console.log(retest(d));
					console.log(retest(e));
					console.log(retest(f));
					console.log(retest(h));
				}

				this.fun_TrapOfPrototype = function() { //一些原型的陷阱
					function Dog() {
						this.tail = true;
					}
					var benji = new Dog();
					var rusty = new Dog();

					Dog.prototype.say = function() {
						return 'Woof!';
					}

					console.log(benji.say());
					console.log(rusty.say());
					console.log(benji.constructor);
					console.log(rusty.constructor.prototype.constructor);

					Dog.prototype = {
						paws: 4,
						hair: true
					}
					console.log(benji.paws);
					console.log(benji.say());
					console.log(benji.__proto__.say());
					console.log(benji.__proto__.paws);

					try {
						var lucy = new Dog();
						lucy.say();
					} catch(e) {
						console.log(e.message)
					}

					console.log(lucy.paws);
					console.log(typeof lucy.__proto__.say);
					console.log(lucy.__proto__.paws);
					console.log(lucy.constructor);
					console.log(benji.constructor);
				}

				this.fun_PrototypePQ = function() {
					var shape = {
						type: "triangle",
						getType: function() {
							return this.type;
						}
					}

					function Triangle(a, b, c) {
						this.a = a;
						this.b = b;
						this.c = c;
					}

					Triangle.prototype = shape;
					Triangle.prototype.getPerimeter = function() {
						return this.a + this.b + this.c;
					}

					var t = new Triangle(1, 2, 3);
					console.log(t.constructor);
					console.log(shape.isPrototypeOf(t));
					console.log(t.getPerimeter());
					console.log(t.getType());
					for(var k in t) {
						if(t.hasOwnProperty(k)) {
							console.log(t[k]);
						}
					}

					Array.prototype.shuffle = function() {
						return this.sort(function(a, b) {
							//conpareFunction(a,b) 小于0，那么a会被排列在b之前
							return(0.5 - Math.random());
						});
					}
					console.log([1, 2, 3, 4, 5, 6, 7, 8].shuffle());
				}

				this.fun_PrototypeChain = function() { //原型链示例
					function Shape() {
						this.name = "shape";
						this.getName = function() {
							return this.name;
						}
					}

					function TwoDshape() {
						this.name = '2D shape';
					}

					function Triangle(side, height) {
						this.name = "triangle";
						this.side = side;
						this.height = height;
						this.getArea = function() {
							return side * height * 0.5;
						}
					}

					TwoDshape.prototype = new Shape();
					TwoDshape.prototype.constructor = TwoDshape;
					Triangle.prototype = new TwoDshape();
					Triangle.prototype.constructor = Triangle;

					var my = new Triangle(5, 10);
					console.log(my);
					console.log(my.getArea());
					console.log(my.toString());
					console.log(my.constructor.name);
					console.log(my instanceof Triangle);
					console.log(my instanceof TwoDshape);
					console.log(my instanceof Shape);
					console.log(my instanceof Array);

					console.log(Shape.prototype.isPrototypeOf(my));
					console.log(TwoDshape.prototype.isPrototypeOf(my));
					console.log(Triangle.prototype.isPrototypeOf(my));
					console.log(String.prototype.isPrototypeOf(my));
					console.log(Object.prototype.isPrototypeOf(my));
					console.log(Function.prototype.isPrototypeOf(my));

					var td = new TwoDshape();
					console.log(td.constructor);
					console.log(td.toString());
					var s = new Shape();
					console.log(s.constructor);
					console.log(TwoDshape.prototype.isPrototypeOf(s));
					console.log(Shape.prototype.isPrototypeOf(s));
				}

				this.fun_PrototypeChainImprove = function() {
					function Shape() {

					}

					Shape.prototype.name = "shape";
					Shape.prototype.toString = function() {
						return this.name;
					}

					function TwoDshape() {}

					TwoDshape.prototype = Shape.prototype;
					TwoDshape.prototype.constructor = TwoDshape;
					TwoDshape.prototype.name = '2D shape';

					function Triangle(side, height) {
						this.side = side;
						this.height = height;
					}

					Triangle.prototype = TwoDshape.prototype;
					Triangle.prototype.constructor = Triangle;
					Triangle.prototype.name = "Triangle";
					Triangle.prototype.getArea = function() {
						return this.side * this.height * 0.5;
					}

					var my = new Triangle();
					console.log(my.constructor);
					console.log(my.toString());
					console.log(my.hasOwnProperty('side'));
					console.log(my.hasOwnProperty('name'));
					console.log(my instanceof Shape);
					console.log(Triangle.prototype.isPrototypeOf(my));
					console.log(Shape.prototype.isPrototypeOf(my));

					console.color("子对象的操作会影响父对象", "#f0f");
					Triangle.prototype.name = 'Triangle';
					var s = new TwoDshape();
					console.log(s.name);
				}

				this.fun_PrototypeChainTemp = function() { //临时构造器
					function Shape() {}
					Shape.prototype.name = 'shape';
					Shape.prototype.toString = function() {
						return this.name;
					}

					function TwoDshape() {}
					var F = function() {}
					F.prototype = Shape.prototype;
					TwoDshape.prototype = new F();
					TwoDshape.prototype.constructor = TwoDshape;
					TwoDshape.prototype.name = '2D shape';

					function Triangle(side, height) {
						this.side = side;
						this.height = height;
					}
					var F = function() {}
					F.prototype = TwoDshape.prototype;
					Triangle.prototype = new F();
					Triangle.prototype.constructor = Triangle;
					Triangle.prototype.name = "Triangle";
					Triangle.prototype.getArea = function() {
						return this.side * this.height * 0.5;
					}

					var my = new Triangle(5, 10);
					console.log(my.getArea());
					console.log(my.toString());
					console.log(my.__proto__.__proto__.__proto__.constructor);
					var s = new Shape();
					console.log(s.name);
				}

				this.fun_PrototypeChainUber = function() { //子对象访问父对象的方式
					function Shape() {}
					Shape.prototype.name = "shape";
					Shape.prototype.toString = function() {
						var result = [];
						if(this.constructor.uber) {
							result.push(this.constructor.uber);
						}
						result.push(this.name);
						return result.join(',');
					}

					function TwoDShape() {}
					var F = function() {};
					F.prototype = Shape.prototype;
					TwoDShape.prototype = new F();
					TwoDShape.prototype.constructor = TwoDShape;
					TwoDShape.uber = Shape.prototype;
					TwoDShape.prototype.name = "2D shape";

					function Triangle(side, height) {
						this.side = side;
						this.height = height;
					}

					var F = function() {};
					F.prototype = TwoDShape.prototype;
					Triangle.prototype = new F();
					Triangle.prototype.constructor = Triangle;
					Triangle.uber = TwoDShape.prototype;
					Triangle.prototype.name = 'Triangle';
					Triangle.prototype.getArea = function() {
						return this.side * this.height * 0.5;
					}

					var my = new Triangle(5, 10);
					console.log(my.toString());
				}

				this.fun_PrototypeChainExtend = function() {
					function extend(Child, Parent) {
						var F = function() {}
						F.prototype = Parent.prototype;
						Child.prototype = new F();
						Child.prototype.constructor = Child;
						Child.prototype.uber = Parent.prototype;
					}

					function extend2(Child, Parent) {
						var p = Parent.prototype;
						var c = Child.prototype;
						for(var i in p) {
							c[i] = p[i];
						}
						c.uber = p;
					}

					var Shape = function() {}
					var TwoDshape = function() {}
					Shape.prototype.name = 'shape';
					Shape.prototype.toString = function() {
						return this.name;
					}

					extend(TwoDshape, Shape);
					var td = new TwoDshape();
					console.log(td.name);
					console.log(TwoDshape.prototype.name);
					console.log(td.__proto__.name);
					console.log(td.hasOwnProperty('name'));
					console.log(td.__proto__.hasOwnProperty('name'));

					extend(TwoDshape, Shape);
					var td = new TwoDshape();
					console.log(td);
					console.log(td.__proto__.hasOwnProperty("name"));
					console.log(td.__proto__.hasOwnProperty("toString"));
					console.log(td.__proto__.toString === Shape.prototype.toString);

					var A = function() {},
						B = function() {};
					A.prototype.stuff = [1, 2, 3];
					A.prototype.name = 'a';
					extend2(B, A);
					console.log(B);
					console.log(B.prototype.hasOwnProperty('stuff'));
					console.log(B.prototype.hasOwnProperty('name'));
					console.log(B.prototype.stuff);
					console.log(B.prototype.stuff === A.prototype.stuff);
					B.prototype.name += 'b';
					console.log(B.prototype.name);
					console.log(A.prototype.name);
					B.prototype.stuff.push(4, 5, 6);
					console.log(B.prototype.stuff);
					console.log(A.prototype.stuff);
				}

				this.fun_PrototypeObjInherit = function() {
					function extendCopy(p, c) {
						var c = c || {};
						for(var i in p) { //深拷贝
							if(typeof p[i] === "object") {
								c[i] = (p[i].constructor === Array) ? [] : {};
								extendCopy(p[i], c[i]);
							} else { //浅拷贝
								c[i] = p[i];
							}
						}
						c.uber = p;
						return c;
					}

					var shape = {
						name: 'shape',
						toString: function() {
							return this.name;
						}
					}

					var twoDee = extendCopy(shape);
					twoDee.name = '2D shape';
					twoDee.toString = function() {
						return this.uber.toString() + ', ' + this.name;
					}

					var triangle = extendCopy(twoDee);
					triangle.name = "Triangle";
					triangle.getArea = function() {
						return this.side * this.height * 0.5;
					}

					triangle.side = 5;
					triangle.height = 10;
					console.log(triangle.getArea());
					console.log(triangle.toString());

					var parent = {
						numbers: [1, 2, 3],
						letters: ['a', 'b', 'c'],
						obj: {
							prop: 1
						},
						bool: true
					};

					var mydeep = extendCopy(parent);
					var myshallow = extendCopy(parent);
					console.log(mydeep.numbers.push(4, 5, 6));
				}

				this.fun_PrototypeChainObject = function() {
					function object(o) {
						var n;

						function F() {}
						F.prototype = o;
						n = new F();
						n.uber = o;
						return n;
					}

					function objectPlus(o, stuff) {
						var n;

						function F() {}
						F.prototype = o;
						n = new F();
						n.uber = o;

						for(var i in stuff) {
							n[i] = stuff[i];
						}
						return n;
					}

					var shape = {
						name: 'shape',
						toString: function() {
							return this.name
						}
					};

					var twoDee = objectPlus(shape, {
						name: "2D shape",
						toString: function() {
							return this.uber.toString() + ', ' + this.name
						}
					});

					var triangle = objectPlus(twoDee, {
						name: 'Triangle',
						getArea: function() {
							return this.side * this.height * 0.5;
						},
						side: 0,
						height: 0
					});

					var my = objectPlus(triangle, {
						side: 4,
						height: 4
					});

					console.log(my);
					console.log(my.getArea());
					console.log(my.toString());

					console.color("多重继承", "#ff");

					function multi() {
						var obj = {};
						for(var i = 0; i < arguments.length; i++) {
							for(var k in arguments[i]) {
								obj[k] = arguments[i][k];
							}
						}
						return obj;
					}

					var shaper = {
						name: 'shape',
						toString: function() {
							return this.name;
						}
					};

					var twoDeer = {
						name: "2D shape",
						dimensions: 2
					};

					var triangler = multi(twoDeer, shaper, {
						name: 'Trangle',
						getArea: function() {
							return this.side * this.height * 0.5;
						},
						side: 5,
						height: 10
					});

					console.log(triangler);
					console.log(triangler.getArea());
					console.log(triangler.toString());
				}

				this.fun_ParasiticInheritance = function() { //寄生式继承
					var twoD = {
						name: "2D shape",
						dimensions: 2
					}

					function object(o) {
						var F = function() {}
						F.prototype = o;
						var n = new F();
						n.uber = o;
						return n;
					}

					function triangle(s, h) {
						var that = object(twoD);
						that.name = 'Triangle';
						that.getArea = function() {
							return this.side * this.height * 0.5;
						}
						that.side = s;
						that.height = h;
						return that;
					}

					var t = triangle(5, 10);
					console.log(t);
					console.log(t.dimensions);
				}

				this.fun_BorrowingAConstructor = function() {
					function extend2(Child, Parent) {
						var p = Parent.prototype;
						var c = Child.prototype;
						for(var i in p) {
							c[i] = p[i];
						}
						c.uber = p;
					}

					function Shape(id, flag) {
						this.id = id;
						this.flag = flag;
					}
					Shape.prototype.name = 'shape';
					Shape.prototype.toString = function() {
						return this.name;
					}

					function Triangle() {
						Shape.apply(this, arguments);
					}
					extend2(Triangle, Shape);
					Triangle.prototype.name = 'Triangle';
					var t = new Triangle(202, true);
					console.log(t);
				}

				this.fun_inheritance = function() {
					//定义一个动物的父类

					function Animal(name) {
						this.name = name || "Animal";
						this.sleep = function() {
							console.log(this.name + "正在睡觉！")
						}
					}
					Animal.prototype.eat = function(foot) {
						console.log(this.name + "正在吃：" + food);
					}

					console.color("1.原型链继承 核心:将父类的实例作为子类的原型");
					(function() {
						function Cat() {}
						Cat.prototype = new Animal();
						Cat.prototype.name = "cat";

						var cat = new Cat();
						console.log(cat.name);
						console.log(cat.sleep());
						console.log(cat instanceof Animal);
						console.log(cat instanceof Cat);
					})();

					console.color("2.构造继承 使用父类的构造函数来增强子类实例，等于是复制父类的实例属性给子类(没用到原型)");
					(function() {
						function Cat(name) {
							Animal.call(this);
							this.name = name || "Tom";
						}

						var cat = new Cat();
						console.log(cat);
						console.log(cat.name);
						console.log(cat.sleep());
						console.log(cat instanceof Animal);
						console.log(cat instanceof Cat);
					})();

					console.color("3.实例继承 为父类添加新特性，作为子类实例返回");
					(function() {
						function Cat(name) {
							var instance = new Animal();
							instance.name = name || "Bob";
							return instance;
						}

						var cat = new Cat();
						console.log(cat);
						console.log(cat.name);
						console.log(cat.sleep());
						console.log(cat instanceof Animal);
						console.log(cat instanceof Cat);
					})();

					console.color("4.拷贝继承");
					(function() {
						function Cat(name) {
							var animal = new Animal();
							for(var p in animal) {
								Cat.prototype[p] = animal[p];
							}
							Cat.prototype.name = name || "Lily";
						}

						var cat = new Cat();
						console.log(cat);
						console.log(cat.name);
						console.log(cat.sleep());
						console.log(cat instanceof Animal);
						console.log(cat instanceof Cat);
					})();

					console.color("5.组合继承");
					(function() {
						function Cat(name) {
							Animal.call(this);
							this.name = name || "Jack";
						}

						Cat.prototype = new Animal();

						var cat = new Cat();
						console.log(cat);
						console.log(cat.name);
						console.log(cat.sleep());
						console.log(cat instanceof Animal);
						console.log(cat instanceof Cat);
					})();

					console.color("6.寄生组合继承");
					(function() {
						function Cat(name) {
							Animal.call(this);
							this.name = name || "Jack";
						}

						var Super = function() {}
						Super.prototype = Animal.prototype;
						Cat.prototype = new Super();

						var cat = new Cat();
						console.log(cat);
						console.log(cat.name);
						console.log(cat.sleep());
						console.log(cat instanceof Animal);
						console.log(cat instanceof Cat);
					})();
				}

				this.fun_DrawTriangleAndRectangle = function() {
					function Point(x, y) {
						this.x = x;
						this.y = y;
					}

					function Line(p1, p2) {
						this.p1 = p1;
						this.p2 = p2;
						this.length = Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));
					}

					function Shape() {
						this.points = [];
						this.lines = [];
						this.init();
					}

					Shape.prototype = {
						constructor: Shape,
						init: function() {
							if(typeof this.context === "undefined") {
								var canvas = document.getElementById("canvas");
								Shape.prototype.context = canvas.getContext("2d");
							}
						},
						getLines: function() {
							var lines = [];
							for(var i = 0; i < this.points.length; i++) {
								lines[i] = new Line(this.points[i], this.points[i + 1] ? this.points[i + 1] : this.points[0]);
							}
							this.lines = lines;
							return lines;
						},
						getColor: function() {
							var rgb = [];
							for(var i = 0; i < 3; i++) {
								rgb[i] = Math.round(255 * Math.random());
							}
							return 'rgb(' + rgb.join(",") + ")";
						},
						getPerimeter: function() {
							var arr = this.getLines();
							var per = 0;
							for(var i = 0; i < arr.length; i++) {
								per += arr[i].length;
							}
							return per;
						},
						draw: function() {
							var ctx = this.context;
							ctx.strokeStyle = this.getColor();
							ctx.beginPath();
							ctx.moveTo(this.points[0].x, this.points[0].y);
							for(var i = 1; i < this.points.length; i++) {
								ctx.lineTo(this.points[i].x, this.points[i].y);
							}
							ctx.closePath();
							ctx.stroke();
						}
					}

					function Triangle(a, b, c) {
						this.points = [a, b, c];
						this.getArea = function() {
							/*
							 * 利用海伦公式： S = Math.pow(p*(p-a)*(p-b)*(p-c),1/2);
							 */
							var p = this.getPerimeter() * 0.5;
							return Math.pow(p *
								(p - this.lines[0].length) *
								(p - this.lines[1].length) *
								(p - this.lines[2].length), 1 / 2);
						}
					}

					function Rectangle(p, l_x, l_y) {
						this.points = [
							p,
							new Point(p.x + l_x, p.y),
							new Point(p.x + l_x, p.y + l_y),
							new Point(p.x, p.y + l_y)
						];
						this.getArea = function() {
							return l_x * l_y;
						}
					}

					function Square(p, side) {
						Rectangle.call(this, p, side, side);
					}

					(function() {
						var s = new Shape();
						Triangle.prototype = s;
						Rectangle.prototype = s;
						Square.prototype = s;
					})();

					(function() {
						var p1 = new Point(100, 100);
						var p2 = new Point(300, 100);
						var p3 = new Point(200, 0);

						var t = new Triangle(p1, p2, p3);
						t.draw();
						console.log("周长：" + t.getPerimeter());
						console.log("面积：" + t.getArea());

						var r = new Rectangle(new Point(200, 200), 50, 100);
						r.draw();
						r.getArea();
						console.log("周长：" + r.getPerimeter());
						console.log("面积：" + r.getArea());

						var s = new Square(new Point(130, 130), 50);
						s.draw();
						s.getArea();
						console.log("周长：" + s.getPerimeter());
						console.log("面积：" + s.getArea());

						new Square(p1, 200).draw();
					})();
				}

				this.fun_BOM_Object = function() {
					window.somewhere = 1;
					console.log(somewhere);

					console.log("Test--0");
					window.console.log("Test--0");

					console.color("navigator对象", "#f0f");
					console.log(navigator.userAgent);

					console.log(document.nodeType);
					console.log(document.nodeName);
					console.log(document.nodeValue)

					console.log(document.documentElement.nodeType); //根节点
					console.log(document.documentElement.nodeName);
					console.log(document.documentElement.nodeValue);
					console.log(document.documentElement.tagName);

					console.log(document.documentElement.hasChildNodes()); //检查是否有子节点
					console.log(document.documentElement.childNodes); //子节点列表
					console.log(document.documentElement.childNodes[0].nodeName);
					console.log(document.documentElement.childNodes[1].nodeType);
					console.log(document.documentElement.childNodes.length);
					console.log(document.documentElement.childNodes[2].childNodes.length);

					var body = document.documentElement.childNodes[2];
					console.log(body.childNodes[1].nodeName);
					console.log(body.childNodes[1].hasAttributes());
					console.log(body.childNodes[1].attributes.length);
					console.log(body.childNodes[1].attributes[0]);
					console.log(body.childNodes[1].attributes[0].nodeType);
					console.log(body.childNodes[1].attributes[0].nodeName);
					console.log(body.childNodes[1].attributes[0].nodeValue);
					console.log(body.childNodes[1].innerText);
					console.log(body.childNodes[1].childNodes[0].nodeValue);
					console.log(body.childNodes[3].innerHTML);

					console.log(document.getElementsByTagName("p").length);
					console.log(document.getElementsByTagName("p")[1]);
					console.log(document.getElementsByTagName("p")[2].id);
					console.log(document.getElementsByTagName("p")[0].className);

					var para = document.getElementById("closer");
					console.log(para.nextSibling);
					console.log(para.nextElementSibling);
					console.log(para.previousSibling);
					console.log(para.previousElementSibling);
					console.log(document.body.firstChild);
					console.log(document.body.firstElementChild);
					console.log(document.body.lastChild);
					console.log(document.body.lastElementChild);

					para.innerHTML = 'final!!!';
					para.innerHTML = "<em>my</em> final";

					console.log(para.firstChild.firstChild);
					para.firstChild.firstChild.nodeValue = "your";

					para.style.border = "1px solid red";
					para.style.fontWeight = "bold";

					var myp = document.createElement("p");
					myp.innerHTML = 'yet another';
					myp.style.border = "2px dotted blue";
					document.body.appendChild(myp);

					var myp2 = document.createElement("p");
					var text1 = document.createTextNode("one more paragraph");
					myp2.appendChild(text1);
					var strong = document.createElement("strong");
					var text12 = document.createTextNode(" bold");
					strong.appendChild(text12);
					myp2.appendChild(strong);
					document.body.appendChild(myp2);

					var el = document.getElementsByTagName("p")[1];
					document.body.appendChild(el.cloneNode(false));
					document.body.appendChild(el.cloneNode(true));

					console.log(document.images);
					console.log(document.applets);
					console.log(document.links);
					console.log(document.anchors);
					console.log(document.forms);
				}

				this.fun_DocumentObj = function() {
					console.color("document", "#f0f");
					console.log(document.cookie);
					console.log(document.title)
					console.log(document.domain = "127.0.0.1");
					console.log(document.location === window.location)
				}

				this.fun_EventListenerObj = function() { //时间监听
					var mypara = document.getElementById("closer");

					(function() {
						return;
						mypara.addEventListener("click", function() {
							alert("Boo!");
						}, false);
						mypara.addEventListener("click", function(e) {
							console.log(e);
						}, false);
					})();

					(function() {
						mypara.addEventListener("click", function(e) {
							alert("clicked paragraph");
						}, false);

						document.body.addEventListener("click", function(e) {
							alert("clicked body");
						}, false);

						document.addEventListener("click", function(e) {
							alert("clicked doc");
						}, false);

						window.addEventListener("click", function(e) {
							alert("clicked window");
						}, false);
					})();

					//防止默认行为
					var all_links = document.getElementsByTagName("a");
					for(var i = 0; i < all_links.length; i++) {
						all_links[i].addEventListener(
							"click",
							function(e) {
								if(!confirm("Are you sure you want to follow this link?")) {
									e.preventDefault();
								}
							},
							false
						);
					}

					//跨浏览器事件监听
					function callback(e) {
						e = e || window.event; //IE只有一个全局对象window.event
						var target = (typeof e.target === "undefined") ? e.srcElement : e.target;
						console.log(target.nodeName);
					}
					if(document.addEventListener) {
						document.addEventListener("click", callback, false);
					} else if(document.attachEvent) {
						document.attachEvent("onclick", callback);
					} else {
						document.onclick = callback;
					}
				}

				this.fun_XMLHttpRequest = function() { //HTTP请求的Javascript对象 AJAC应用 异步获取
					/*
					 * 步骤:			1.发送请求
					 *				2.处理响应	
					 * readySate:	0.未初始化
					 * 				1.载入请求
					 * 				2.载入完成
					 * 				3.请求交互
					 * 				4.请求完成
					 * http status:	200 success
					 * 				404 not found
					 * 				304 重定向
					 * 				500 服务器错误
					 */

					function request(url, callback) {
						var xhr;
						if(!xhr) {
							if(window.XMLHttpRequest) {
								xhr = new XMLHttpRequest();
							} else {
								xhr = new ActiveXObject("Microsoft.XMLHTTP")
							}
						}

						xhr.open("GET", url, true);
						xhr.onreadystatechange = (function(myxhr) {
							return function() {
								if(myxhr.readyState == 4 && myxhr.status == 200) {
									callback(myxhr);
								}
							}
						})(xhr);
						xhr.send();
					}

					request("data/content.txt", function(data) {
						document.getElementById("txt-div").innerHTML = data.responseText;
					});

					request("data/content.html", function(data) {
						document.getElementById("html-div").innerHTML = data.responseText;
					});

					request("data/content.xml", function(data) {
						document.getElementById("xml-div").innerHTML = data.responseXML.getElementsByTagName('root')[0].firstChild.nodeValue;
					});
				}

				this.fun_SummarySection8 = function() {
					/*
					 * 全局对象：window
					 * 属性: navigator screen history location frames
					 * 方法: setInterval() setTimeout() alert() confirm() prompt() moveTo/By() resizeTo/By();
					 */

					//标签浏览器无效  Edge可以
					//					document.body.addEventListener("click", function() {
					//						window.resizeBy(-1, -1);
					//					}, false);

					/*
					 * 节点操作: parentNode childNodes firstChild lastChild nextSibling previousSibling
					 * 			getElementsById() getElementsByTagName() getElementsByName()
					 * 			innerHTMML  innerText/textContent
					 * 			nodeValue setAttribute()
					 */
				}

				this.fun_NamespaceMode = function() {
					//global namespace
					var MYAPP = MYAPP || {};

					//sub-object
					MYAPP.event = {};

					//object together with the method declarations
					//对象和方法一起声明

					MYAPP.event = {
						addListener: function(el, type, fn) {
							//.. do the thing
						},
						removeListener: function(el, type, fn) {

						},
						getEvent: function() {

						}
					}

					//命名空间的构造器应用
					MYAPP.dom = {};
					MYAPP.dom.Element = function(type, prop) {
						var tmp = document.createElement(type);
						for(var i in prop) {
							tmp.setAttribute(i, prop[i]);
						}
						return tmp;
					}
					MYAPP.dom.Text = function(txt) {
						return document.createTextNode(txt);
					}

					//使用构造器在网页底部创建一个链接
					var el1 = new MYAPP.dom.Element(
						"a", {
							href: 'http://phpied.com'
						}
					);

					var el2 = new MYAPP.dom.Text("Click me");
					el1.appendChild(el2);
					document.getElementsByClassName("dom-operate-div")[0].appendChild(el1);

					MYAPP.namespace = function(para) {
						var current = MYAPP;
						para = para.toString().split(".");
						for(var t in para) {
							if(!current[para[t]]) {
								current[para[t]] = {};
							}
							current = current[para[t]];
						}
					}

					//namespace

					MYAPP.namespace('event');
					MYAPP.namespace("dom.style");
					console.log(MYAPP);

					//初始化分支
					if(typeof window.addEventListener === 'function') {
						MYAPP.event.addListener = function(el, type, fn) {
							el.addEventListener(type, fn, false);
						}
						MYAPP.event.removeListener = function(el, type, fn) {
							el.removeEventListener(type, fn, false);
						}
					} else if(typeof document.attachEvent === 'function') { //IE
						MYAPP.event.addListener = function(el, type, fn) {
							el.attachEvent('on' + type, fn);
						}
						MYAPP.event.removeListener = function(el, type, fn) {
							el.detachEvent('on' + type, fn);
						}
					} else {
						MYAPP.event.addListener = function(el, type, fn) {
							el['on' + type] = fn;
						}
						MYAPP.event.removeListener = function(el, type, fn) {
							el['on' + type] = null;
						}
					}

					//延迟定义
					MYAPP.myevent = {
						addListener: function(el, type, fn) {
							if(typeof el.addEventListener === 'function') {
								MYAPP.myevent.addListener = function(el, type, fn) {
									el.addEventListener(type, fn, false);
								}
							} else if(typeof el.attachEvent === 'function') {
								MYAPP.myevent.addListener = function() {
									el.attachEvent('on' + type, fn);
								}
							} else {
								MYAPP.myevent.addListener = function(el, type, fn) {
									el['on' + type] = fn;
								}
							}
						}
					}

					//配置对象
					//a constructor that creates buttons
					MYAPP.dom.Button = function(text, type) {
						var b = document.createElement('input');
						b.type = type || 'submit';
						b.value = text;
						return b;
					}

					document.getElementsByClassName("dom-operate-div")[0].appendChild(new MYAPP.dom.Button('puuush'));

					//多参数时
					var config = {
						value: "submit",
						type: "button",
						color: "#f00",
						id: "test_config"
					}
					MYAPP.dom.Button = function(config) {
						var b = document.createElement('input');
						b.type = config.type || 'submit';
						b.value = config.value || "button";
						b.style.backgroundColor = '#ccc';
						b.style.border = "1px solid #f0f";
						b.id = config.id;
						console.log(b);
						return b;
					}

					document.getElementsByClassName("dom-operate-div")[0].appendChild(new MYAPP.dom.Button(config));

					//私有属性和方法
					MYAPP.dom.Buttons = function(text, conf) {
						var styles = {
							font: 'Vendana',
							border: "1px solid black",
							color: 'white',
							background: 'grey'
						}

						function setStyles() {
							for(var i in styles) {
								b.style[i] = conf[i] || styles[i];
							}
						}

						conf = conf || {}
						var b = document.createElement('input');
						b.type = conf['type'] || 'submit';
						b.value = text;
						setStyles();
						return b;
					}

					document.getElementsByClassName("dom-operate-div")[0].appendChild(new MYAPP.dom.Buttons("test"));

				}

				this.fun_ChainCall = function() { //链式调用

					//jquery this方式
					function A(num) {
						this.value = num || 0;
					}

					A.prototype.add = function(a) {
						this.value += a;
						return this;
					}

					A.prototype.reduce = function(a) {
						this.value -= a;
						return this;
					}

					A.prototype.valueOf = function() {
						return this.value;
					}

					A.prototype.toString = function() {
						return this.value + '';
					}

					var a = new A(2);
					console.log(a.add(1).reduce(2));

					//underscore 
					var _ = {};
					_.forEach = function(array, fn) {
						array.forEach = function(v, i, array) {
							fn.apply(v, [v, i, array]);
						}
					}

					_.map = function(array, fn) {
						return array.map(function(v, i, array) {
							return fn.apply(v, [v, i, array]);
						});
					}
				}

				this.fun_DanJianMoShi = function() { //单件模式
					//全局变量
					function Logger() {
						if(typeof global_log === "undefined") {
							global_log = this;
						}
						this.log = function(msg) {
							console.log(msg);
						}
						return global_log;
					}

					var my_log = new Logger();
					my_log.log("some event");
					var other_log = new Logger();
					other_log.log('some new event');
					alert(my_log === other_log);

					function Loggers() {
						if(typeof Logger.single_instance === "undefined") {
							Logger.single_instance = this;
						}
						return Logger.single_instance;
					}
				}

				this.fun_FactoryMode = function() {
					var MYAPP = {};
					MYAPP.dom = {};
					MYAPP.dom.Text = function() {
						this.insert = function(where) {
							var txt = document.createTextNode(this.url);
							where.appendChild(txt);
						}
					}
					MYAPP.dom.Link = function() {
						this.insert = function(where) {
							var link = document.createElement('a');
							link.href = this.url;
							link.appendChild(document.createTextNode(this.url));
							where.appendChild(link);
						}
					}
					MYAPP.dom.Image = function() {
						this.insert = function(where) {
							var im = document.createElement('img');
							im.src = this.url;
							where.appendChild(im);
						}
					}

					var _dom = document.getElementsByClassName('dom-operate-div')[0];

					var o = new MYAPP.dom.Image();
					o.url = 'http://images.packtpub.com/images/PacktLogoSmall.png';
					o.insert(_dom);

					var o = new MYAPP.dom.Text();
					o.url = 'http://images.packtpub.com/images/PacktLogoSmall.png';
					o.insert(_dom);

					var o = new MYAPP.dom.Link();
					o.url = 'http://images/packtpub.com/images/PacktLogoSmall.png';
					o.insert(_dom);

					var b;
					if(type === 'Image') {
						o = new MYAPP.dom.Image();
					}
					if(type === "Link") {
						o = new MYAPP.com.Link();
					}
					if(type === "Text") {
						o = new MYAPP.dom.Text();
					}

					o.url = 'http://...';
					o.insert();

					MYAPP.dom.factory = function(type) {
						return new MYAPP.dom[type];
					}
				}

				this.fun_ArrayOperate = function() {
					var arr = ['a', 'b', 'c'];
					arr.forEach(function(element, index) {
						console.log("第" + index + "个元素是：" + element);
					})

					console.log(arr);

					var newArr = arr.map(function(element, index) {
						return element + index;
					});
					console.log(newArr);

					console.log(["0", "1", "2"].map(function(value, index, array) {
						return parseInt(value);
					}))

					console.log([1, 10, 89, 2, 21, 3, 45, -3, 89, 10].filter(function(value) {
						return value > 10;
					}))
					
					console.log([1, 10, 89, 2, 21, 3, 45, -3, 89, 10].some(function(value){
						return value > 10;
					}))
					
					console.log([1, 10, 89, 2, 21, 3, 45, -3, 89, 10].every(function(value){
						return value > 10;
					}))
				}
			}
			var obj = new ObjOriented();
			obj.fun_ArrayOperate();
		</script>
	</body>

</html>